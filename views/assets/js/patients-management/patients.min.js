moment.locale("es");let vm=new Vue({vuetify:vuetify,el:"#siac-suite-container",data:{empty_message:"No hay datos disponibles",birthdate_modal:"",entry_date_modal:"",birthdate_dialog:"",entry_date_dialog:"",appointment_date_dialog:"",appointment_time_dialog:"",exam_date_dialog:"",menu:"",tab:null,view_tab:null,view_dialog:!1,dialog:!1,dialogDelete:!1,general_save:!1,patients:[],headers:[{text:"N° de historia",align:"start",value:"patient_id",width:"auto"},{text:"Nombre y Apellido",value:"full_name",width:"auto"},{text:"Teléfono",value:"telephone",width:"auto"},{text:"Email",value:"email",width:"auto"},{text:"Dirección",value:"address",width:"auto"},{text:"Acciones",value:"actions",align:"center",sortable:!1}],views:{patient_appointments:{headers:[{text:"Fecha de la cita",align:"start",value:"appointment_date"},{text:"Hora de la cita",value:"appointment_time"},{text:"Doctor",value:"full_name"},{text:"Tipo de cita",value:"appointment_type"},{text:"Motivo de la cita",value:"appointment_reason"}]},patient_anthropometry:{headers:[{text:"Fecha",align:"start",value:"anthropometry_date"},{text:"Peso",value:"weight"},{text:"Talla",value:"height"},{text:"Cintura Abdominal",value:"abdominal_waist"},{text:"índice Masa Corporal",value:"bmi"},{text:"Superficie Corporal",value:"corporal_surface"}]},patient_laboratory_exams:{exam_headers:[{text:"Fecha del exámen",align:"start",value:"exam_date",width:"auto"},{text:"Resultado",value:"results",width:"auto"}]}},patient_appointments:{dialog:!1,dialogDelete:!1,date_modal:!1,time_modal:!1,select:!1,types:[{text:"Primera vez"},{text:"Consulta de chequeo"}],doctors:[],headers:[{text:"Fecha de la cita",align:"start",value:"appointment_date"},{text:"Hora de la cita",value:"appointment_time"},{text:"Doctor",value:"full_name"},{text:"Tipo de cita",value:"appointment_type"},{text:"Motivo de la cita",value:"appointment_reason"},{text:"Acciones",value:"actions",align:"center",sortable:!1}],appointments:[],editedItem:{},editedIndex:-1},patient_anthropometry:{weight:"",height:"",abdominal_waist:"",history:[]},patient_laboratory_exams:{laboratory_exam:!1,dialog:!1,dialogDelete:!1,modal:!1,headers:[{text:"Exámen de Laboratorio",align:"start",value:"name",width:"auto"},{text:"Acción",value:"action",width:"auto"}],table_options:{disablePagination:!0,itemsPerPage:15,hideDefaultFooter:!0},exam_headers:[{text:"Fecha del exámen",align:"start",value:"exam_date",width:"auto"},{text:"Resultado",value:"results",width:"auto"},{text:"Acción",value:"action",width:"auto"}],exam_results:[],exams:[],editedItem:{},defaultItem:{},selectedExam:{},editedIndex:-1},patient_vital_signs:{default:{sitting:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},lying_down:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},standing:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0}},takes:[{sitting:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},lying_down:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},standing:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0}},{sitting:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},lying_down:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},standing:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0}},{sitting:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},lying_down:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},standing:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0}},{sitting:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},lying_down:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},standing:{pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0}}],headers:[{text:"Fecha",align:"center",value:"take_date",width:"auto"},{text:"Frecuencia Cardiaca",align:"center",value:"heart_frecuency",width:"auto"},{text:"Presión Arterial del Brazo Derecho",align:"center",value:"pa_right",width:"auto"},{text:"Presión Arterial del Brazo Izquierdo",align:"center",value:"pa_left",width:"auto"},{text:"Frecuencia respiratoria",align:"center",value:"breathing_rate",width:"auto"},{text:"Temperatura (°C)",align:"center",value:"temperature",width:"auto"}],records:[]},patient_history:{loading:!1,select:[{text:"Sí",value:1},{text:"No",value:0}],form:{history_content:{diseases:{hta:{active:!0,diagnostic_date:"",treatment:"",iecas:{frecuency:"",dosis:""},bra:{frecuency:"",dosis:""},ca:{frecuency:"",dosis:""},diuretic:{frecuency:"",dosis:""},block_beta:{frecuency:"",dosis:""},block:{frecuency:"",dosis:""}},dtm2:{active:!0,diagnostic_date:"",treatment:"",metformin:{frecuency:"",dosis:""},insulin:{frecuency:"",dosis:""},sulfonylureas:{frecuency:"",dosis:""},inh_dpp:{frecuency:"",dosis:""},i_slgt2:{frecuency:"",dosis:""},gl:{frecuency:"",dosis:""}},dyslipidemia:{active:!0,diagnostic_date:"",treatment:"",statins:{frecuency:"",dosis:""},ezt:{frecuency:"",dosis:""},fibratos:{frecuency:"",dosis:""},omega3:{frecuency:"",dosis:""},i_slgt2:{frecuency:"",dosis:""},gl:{frecuency:"",dosis:""},block_beta:{frecuency:"",dosis:""},block:{frecuency:"",dosis:""}},smoking:{active:!0,start_year:"",quit_year:"",cigarettes_per_day:"",fageroom_test:"",no_smoking_frecuency:"",smoking_wish:"",short_advice:""}},emergency_hta_history:"",emergency_diabetes_history:"",cardiovascular_diseases:{ischemic_cardiopathy:{im:"",age:"",angina:"",chronic_crown_syndrome:"",persist:"",functional_class_canada:"",revascularized:{active:0,surgery:"",age:"",bridge:"",percutaneous:"",stent:"",medicated:""}},arritmia:{type:"",treatment:"",anticoagulant:"",anticoagulant_type:"",dosis:"",ablation:"",age:"",cdi_holder:""},heart_failure:{dx_age:"",functional_class:"",treatment:"",dosis:""},peripheral_artery_disease:{intermittent_claudication:"",functional_class:"",treatment:""}},antiplatelet:{active:"",treatment:""},physical_exams:{general_aspect:"",pvy:{morphology_breastx:"",cvy:""},carotid_beats:"",apex:"",auscultation:"",peripheral_pulses:"",edema:""},electro_cardiogram:{rhythm:"",detail:"",axes:"",diagnostic:""}}}},patient_risk_factors:{loading:!1,diagnostic_loading:!1,risk_factors_loaded:!1,selectedForm:{calc_name:"",obj:{results:""}},headers:[{text:"Factor de Riesgo",align:"start",value:"name"},{text:"Diagnóstico",value:"diagnostic"},{text:"Comentario",value:"comment"}],risk_factor_headers:[{text:"Fecha",align:"start",value:"risk_factor_date"},{text:"Resultado",value:"results"}],risk_factors:[{name:"HTA",diagnostic:"",comment:""},{name:"DM",diagnostic:"",comment:""},{name:"Pre DM",diagnostic:"",comment:""},{name:"Dislipidemia",diagnostic:"",comment:""},{name:"Tabaquismo",diagnostic:"",comment:""},{name:"Obesidad",diagnostic:"",comment:""},{name:"Sobre peso",diagnostic:"",comment:""}],form_risk_factors:[{nomenclature:"",calc_name:"FINDRISK",obj:findrisk_vars},{nomenclature:"",calc_name:"Riesgo 2013 AHA/ACC",obj:aha_acc_2013_vars},{nomenclature:"",calc_name:"Riesgo OMS/OPS",obj:oms_ops_vars},{nomenclature:"mL/min",calc_name:"CrCI Cockgroft/Gault",obj:crci_cockgroft_gault_vars},{nomenclature:"mg/dl",calc_name:"Colesterol LDL",obj:colesterol_ldl_vars},{nomenclature:"",calc_name:"Inter Heart",obj:inter_heart_vars}],risk_factors_list:[]},genders:[{name:"Masculino",gender:"M"},{name:"Femenino",gender:"F"}],document_types:[{text:"DNI",value:"DNI"},{text:"Pasaporte",value:"pasaporte"}],editedIndex:-1,editedItem:{},defaultItem:{telegram:"0",whatsapp:"0",sms:"0"}},computed:{formTitle:function(){return-1===this.editedIndex?"Añadir nuevo paciente":"Editar ficha del paciente - N° de historia: "+this.editedItem.patient_id},AppointmentFormTitle:function(){return-1===this.patient_appointments.editedIndex?"Añadir nueva cita":"Editar cita del paciente "}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()},appointmentDialog:function(t){t||this.closeAppointment()},appointmentDialogDelete:function(t){t||this.closeAppointmentDelete()}},created:function(){this.initialize()},mounted:function(){},methods:{initialize:function(){var t=api_url+"patients/get";this.$http.get(t).then(t=>{this.patients=t.body},t=>{})},initializeExams:function(){var e=this;e.general_save=!1;var t=api_url+"medical-exams/get-exams-list";e.$http.get(t).then(t=>{e.patient_laboratory_exams.exams=t.body},t=>{})},initializeAppointments:function(){var t,e=this;e.general_save=!1,e.getDoctors(),0==e.patient_appointments.appointments.length&&(t=api_url+"appointments/get/"+e.editedItem.patient_id,e.$http.get(t).then(t=>{e.patient_appointments.appointments=t.body},t=>{}))},initializeAnthropometry:function(){var e=this;e.general_save=!1;var t=api_url+"anthropometry/get/"+e.editedItem.patient_id;e.$http.get(t).then(t=>{0<t.body.length&&(e.patient_anthropometry=t.body[0],e.patient_anthropometry.history=t.body)},t=>{})},initializeHistory:function(){var e=this;e.general_save=!1;var t=api_url+"history/get/"+e.editedItem.patient_id;e.$http.get(t).then(t=>{0<t.body.length&&null!=t.body[0].history_content&&(e.patient_history.form.history_content=JSON.parse(t.body[0].history_content))},t=>{})},initializeFactorsRisk:function(t){var e=this;e.general_save=!1,t&&(e.patient_risk_factors.risk_factors_loaded=!0,a=api_url+"patient-risk-factors/get/"+e.editedItem.patient_id,e.$http.get(a).then(t=>{0<t.body.length&&(e.patient_risk_factors.risk_factors_list=t.body,e.patient_risk_factors.risk_factors_loaded=!1)},t=>{})),e.patient_risk_factors.selectedForm={calc_name:"",obj:{results:""}};var a=api_url+"patient-risk-factors-diagnostic/get/"+e.editedItem.patient_id;e.$http.get(a).then(t=>{0<t.body.length&&(e.patient_risk_factors.risk_factors=JSON.parse(t.body[0].risk_factors.toString("uftf8")))},t=>{})},initializeVitalSigns:function(){var a=this;a.general_save=!1;var t=api_url+"vital-signals/get/"+a.editedItem.patient_id;a.$http.get(t).then(t=>{var e;a.patient_vital_signs.records=[],0<t.body.length&&(e=[],a.patient_vital_signs.records=t.body.forEach(t=>{t={vital_signals_id:t.vital_signals_id,sitting:JSON.parse(t.sitting),lying_down:JSON.parse(t.lying_down),standing:JSON.parse(t.standing),take_date:t.take_date};e.push(t)}),a.patient_vital_signs.records=e)},t=>{})},editItem:function(t){var e=this;e.general_save=!0,e.editedIndex=e.patients.indexOf(t),e.editedItem=Object.assign({},t),e.dialog=!0},showItem:function(t){this.editedItem=Object.assign({},t),this.view_dialog=!0},editAppointmentItem:function(t){var e=this.patient_appointments;e.editedIndex=e.appointments.indexOf(t),e.editedItem=Object.assign({},t),e.dialog=!0},deleteItem:function(t){this.editedIndex=this.patients.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteAppointmentItem:function(t){var e=this.patient_appointments;e.editedIndex=e.appointments.indexOf(t),e.editedItem=Object.assign({},t),e.dialogDelete=!0},deleteExamItem:function(t){var e=this.patient_laboratory_exams;e.editedIndex=e.exam_results.indexOf(t),e.editedItem=Object.assign({},t),e.dialogDelete=!0},deleteItemConfirm:function(){var e=this,t=api_url+"patients/delete";e.$http.post(t,e.editedItem).then(t=>{e.loading=!1,"success"==t.body.status&&(this.patients.splice(this.editedIndex,1),this.closeDelete())},t=>{})},deleteAppointmentItemConfirm:function(){var e=this,a=e.patient_appointments,t=api_url+"appointments/delete";e.$http.post(t,{appointment_id:a.editedItem.appointment_id}).then(t=>{e.loading=!1,"success"==t.body.status&&a.appointments.splice(a.editedIndex,1),e.closeAppointmentDelete()},t=>{e.closeAppointmentDelete()})},deleteExamItemConfirm:function(){var e=this,a=e.patient_laboratory_exams,t=api_url+"medical-exams/delete";e.$http.post(t,a.editedItem).then(t=>{"success"==t.body.status&&(a.exam_results.splice(a.editedIndex,1),e.closeExamDelete())},t=>{e.closeExamDelete()})},close:function(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeView:function(){this.view_dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeAppointment:function(){var t=this.patient_appointments;t.dialog=!1,this.$nextTick(()=>{t.editedItem=Object.assign({},this.defaultItem),t.editedIndex=-1})},closeExam:function(){var t=this.patient_laboratory_exams;this.$nextTick(()=>{t.editedItem=Object.assign({},this.defaultItem),t.editedIndex=-1})},closeDelete:function(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeAppointmentDelete:function(){var t=this.patient_appointments;t.dialogDelete=!1,this.$nextTick(()=>{t.editedItem=Object.assign({},this.defaultItem),t.editedIndex=-1})},closeExamDelete:function(){var t=this.patient_laboratory_exams;t.dialogDelete=!1,this.$nextTick(()=>{t.editedItem=Object.assign({},this.defaultItem),t.editedIndex=-1})},save:function(){var t,e=this;e.loading=!0,-1<e.editedIndex?(t=api_url+"patients/update",e.$http.post(t,e.editedItem).then(t=>{e.loading=!1,"success"==t.body.status&&Object.assign(e.patients[e.editedIndex],e.editedItem)},t=>{})):(t=api_url+"patients/create",e.$http.post(t,e.editedItem).then(t=>{e.loading=!1,"success"==t.body.status&&(e.editedItem.patient_id=t.body.data.patient_id,e.patients.push(e.editedItem))},t=>{e.loading=!1})),e.close()},saveAppointment:function(){var t,e=this,a=e.patient_appointments;a.editedItem.patient_id=e.editedItem.patient_id,a.editedItem.full_name=e.getDoctorFullName(a.editedItem.user_id),e.loading=!0,-1<a.editedIndex?(t=api_url+"appointments/update",e.$http.post(t,a.editedItem).then(t=>(e.loading=!1,"success"==t.body.status?(Object.assign(a.appointments[a.editedIndex],a.editedItem),e.closeAppointment(),!0):void e.closeAppointment()),t=>{e.loading=!1,e.closeAppointment()})):(t=api_url+"appointments/create",e.$http.post(t,a.editedItem).then(t=>(e.loading=!1,"success"==t.body.status?(a.editedItem.appointment_id=t.body.data.appointment_id,a.appointments.push(a.editedItem),e.closeAppointment(),!0):void e.closeAppointment()),t=>{e.loading=!1,e.closeAppointment()}))},saveAnthropometry:function(){var e=this;e.loading=!0;var t=api_url+"anthropometry/create",a={patient_id:e.editedItem.patient_id,weight:e.patient_anthropometry.weight,height:e.patient_anthropometry.height,abdominal_waist:e.patient_anthropometry.abdominal_waist};e.$http.post(t,a).then(t=>{if(e.loading=!1,"success"==t.body.status)return!0},t=>{e.loading=!1})},saveHistory:function(){var e=this;e.patient_history.loading=!0;var t=api_url+"history/update";e.patient_history.form.patient_id=e.editedItem.patient_id,e.$http.post(t,e.patient_history.form).then(t=>{if(e.patient_history.loading=!1,"success"==t.body.status)return!0},t=>{e.patient_history.loading=!1})},saveFactorRisk:function(){var e=this;e.patient_risk_factors.loading=!0;var t=api_url+"patient-risk-factors/update",a={patient_id:e.editedItem.patient_id,name:e.patient_risk_factors.selectedForm.calc_name,results:e.patient_risk_factors.selectedForm.obj.results,nomenclature:e.patient_risk_factors.selectedForm.obj.nomenclature};e.$http.post(t,a).then(t=>{if(e.patient_risk_factors.loading=!1,"success"==t.body.status)return!0},t=>{e.patient_history.loading=!1})},saveFactorRiskDiagnostic:function(){var e=this;e.patient_risk_factors.diagnostic_loading=!0;var t=api_url+"patient-risk-factors-diagnostic/update";data={patient_id:e.editedItem.patient_id,risk_factors:e.patient_risk_factors.risk_factors},e.$http.post(t,data).then(t=>{if(e.patient_risk_factors.diagnostic_loading=!1,"success"==t.body.status)return!0},t=>{e.patient_history.loading=!1})},calcVitalSigns:function(){var a={sitting:{pa_suffix:"mmHg",br_suffix:"rpm",t_suffix:"°C",pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},lying_down:{pa_suffix:"mmHg",br_suffix:"rpm",t_suffix:"°C",pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0},standing:{pa_suffix:"mmHg",br_suffix:"rpm",t_suffix:"°C",pa_right_arm1:0,pa_right_arm2:0,pa_left_arm1:0,pa_left_arm2:0,breathing_rate:0,temperature:0}};this.patient_vital_signs.takes.forEach((t,e)=>{a.sitting.pa_right_arm1=parseInt(a.sitting.pa_right_arm1)+parseInt(t.sitting.pa_right_arm1),a.sitting.pa_right_arm2=parseInt(a.sitting.pa_right_arm2)+parseInt(t.sitting.pa_right_arm2),a.sitting.pa_left_arm1=parseInt(a.sitting.pa_left_arm1)+parseInt(t.sitting.pa_left_arm1),a.sitting.pa_left_arm2=parseInt(a.sitting.pa_left_arm2)+parseInt(t.sitting.pa_left_arm2),a.sitting.breathing_rate=parseInt(a.sitting.breathing_rate)+parseInt(t.sitting.breathing_rate),a.sitting.temperature=parseInt(a.sitting.temperature)+parseInt(t.sitting.temperature),a.lying_down.pa_right_arm1=parseInt(a.lying_down.pa_right_arm1)+parseInt(t.lying_down.pa_right_arm1),a.lying_down.pa_right_arm2=parseInt(a.lying_down.pa_right_arm2)+parseInt(t.lying_down.pa_right_arm2),a.lying_down.pa_left_arm1=parseInt(a.lying_down.pa_left_arm1)+parseInt(t.lying_down.pa_left_arm1),a.lying_down.pa_left_arm2=parseInt(a.lying_down.pa_left_arm2)+parseInt(t.lying_down.pa_left_arm2),a.lying_down.breathing_rate=parseInt(a.lying_down.breathing_rate)+parseInt(t.lying_down.breathing_rate),a.lying_down.temperature=parseInt(a.lying_down.temperature)+parseInt(t.lying_down.temperature),a.standing.pa_right_arm1=parseInt(a.standing.pa_right_arm1)+parseInt(t.standing.pa_right_arm1),a.standing.pa_right_arm2=parseInt(a.standing.pa_right_arm2)+parseInt(t.standing.pa_right_arm2),a.standing.pa_left_arm1=parseInt(a.standing.pa_left_arm1)+parseInt(t.standing.pa_left_arm1),a.standing.pa_left_arm2=parseInt(a.standing.pa_left_arm2)+parseInt(t.standing.pa_left_arm2),a.standing.breathing_rate=parseInt(a.standing.breathing_rate)+parseInt(t.standing.breathing_rate),a.standing.temperature=parseInt(a.standing.temperature)+parseInt(t.standing.temperature)}),a.sitting.pa_right_arm1=0==a.sitting.pa_right_arm1?a.sitting.pa_right_arm1:Math.round(a.sitting.pa_right_arm1/4),a.sitting.pa_right_arm2=0==a.sitting.pa_right_arm2?a.sitting.pa_right_arm2:Math.round(a.sitting.pa_right_arm2/4),a.sitting.pa_left_arm1=0==a.sitting.pa_left_arm1?a.sitting.pa_left_arm1:Math.round(a.sitting.pa_left_arm1/4),a.sitting.pa_left_arm2=0==a.sitting.pa_left_arm2?a.sitting.pa_left_arm2:Math.round(a.sitting.pa_left_arm2/4),a.sitting.breathing_rate=0==a.sitting.breathing_rate?a.sitting.breathing_rate:Math.round(a.sitting.breathing_rate/4),a.sitting.temperature=0==a.sitting.temperature?a.sitting.temperature:Math.round(a.sitting.temperature/4),a.lying_down.pa_right_arm1=0==a.lying_down.pa_right_arm1?a.lying_down.pa_right_arm1:Math.round(a.lying_down.pa_right_arm1/4),a.lying_down.pa_right_arm2=0==a.lying_down.pa_right_arm2?a.lying_down.pa_right_arm2:Math.round(a.lying_down.pa_right_arm2/4),a.lying_down.pa_left_arm1=0==a.lying_down.pa_left_arm1?a.lying_down.pa_left_arm1:Math.round(a.lying_down.pa_left_arm1/4),a.lying_down.pa_left_arm2=0==a.lying_down.pa_left_arm2?a.lying_down.pa_left_arm2:Math.round(a.lying_down.pa_left_arm2/4),a.lying_down.breathing_rate=0==a.lying_down.breathing_rate?a.lying_down.breathing_rate:Math.round(a.lying_down.breathing_rate/4),a.lying_down.temperature=0==a.lying_down.temperature?a.lying_down.temperature:Math.round(a.lying_down.temperature/4),a.standing.pa_right_arm1=0==a.standing.pa_right_arm1?a.standing.pa_right_arm1:Math.round(a.standing.pa_right_arm1/4),a.standing.pa_right_arm2=0==a.standing.pa_right_arm2?a.standing.pa_right_arm2:Math.round(a.standing.pa_right_arm2/4),a.standing.pa_left_arm1=0==a.standing.pa_left_arm1?a.standing.pa_left_arm1:Math.round(a.standing.pa_left_arm1/4),a.standing.pa_left_arm2=0==a.standing.pa_left_arm2?a.standing.pa_left_arm2:Math.round(a.standing.pa_left_arm2/4),a.standing.breathing_rate=0==a.standing.breathing_rate?a.standing.breathing_rate:Math.round(a.standing.breathing_rate/4),a.standing.temperature=0==a.standing.temperature?a.standing.temperature:Math.round(a.standing.temperature/4);var t=api_url+"vital-signals/create";a.patient_id=this.editedItem.patient_id,this.$http.post(t,a).then(t=>{},t=>{})},saveExam:function(){var e=this,a=e.patient_laboratory_exams,t=api_url+"medical-exams/create";a.editedItem.patient_id=e.editedItem.patient_id,a.editedItem.exam_id=a.selectedExam.exam_id,e.$http.post(t,a.editedItem).then(t=>{"success"==t.body.status&&(a.editedItem.patient_exam_id=t.body.data.exam_id,a.exam_results.push(a.editedItem),e.closeExam())},t=>{e.closeExam()})},getDoctors:function(){var e=this,t=api_url+"members/get-doctors";0==e.patient_appointments.doctors.length&&(e.patient_appointments.select=!0,e.$http.get(t).then(t=>{e.patient_appointments.select=!1,e.patient_appointments.doctors=t.body},t=>{e.patient_appointments.select=!1}))},getDoctorFullName:function(e){return this.patient_appointments.doctors.filter(t=>t.user_id==e)[0].full_name},getRiskFactorData:function(e){return this.patient_risk_factors.risk_factors_list.filter(t=>t.name==e)},showExamResults:function(t){var e=this.patient_laboratory_exams;e.laboratory_exam=!0,e.selectedExam=t;var a=api_url+"medical-exams/get",t={exam_id:t.exam_id,patient_id:this.editedItem.patient_id};this.$http.post(a,t).then(t=>{e.exam_results=t.body},t=>{})},assignGeneralVars:function(t){var e=moment(this.editedItem.birthdate,"YYYY-MM-DD").fromNow().split(" ")[1];this.patient_risk_factors.selectedForm.obj.vars.age=e,this.patient_risk_factors.selectedForm.obj.vars.gender=this.editedItem.gender},getBMI:function(t,e){e=Math.pow(e/100,2),e=Math.round(10*t/e)/10;return NaN!=e&&(e+=" kg/m2"),e},getCS:function(t,e){t=Math.pow(e*t/3600,.5),t=Math.round(100*t)/100;return NaN!=t&&(t+=" m2"),t},getVitalSignalsAverage:function(t,e){var a,i;return"left"==e?{pulse_pressure:(a=Math.round((parseInt(t.sitting.pa_left_arm2)+parseInt(t.lying_down.pa_left_arm1)+parseInt(t.standing.pa_left_arm1))/3))-(i=Math.round((parseInt(t.sitting.pa_left_arm2)+parseInt(t.lying_down.pa_left_arm2)+parseInt(t.standing.pa_left_arm2))/3)),pam:Math.round(i- -(a-i)/3)}:"right"==e?{pulse_pressure:(a=Math.round((parseInt(t.sitting.pa_right_arm2)+parseInt(t.lying_down.pa_right_arm1)+parseInt(t.standing.pa_right_arm1))/3))-(i=Math.round((parseInt(t.sitting.pa_right_arm2)+parseInt(t.lying_down.pa_right_arm2)+parseInt(t.standing.pa_right_arm2))/3)),pam:Math.round(i- -(a-i)/3)}:void 0},fromNow:function(t){return moment(t).format("LL")}}});