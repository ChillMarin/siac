let vm=new Vue({vuetify:vuetify,el:"#siac-suite-container",data:{barAlert:!1,barTimeout:1e3,barMessage:"",barType:"",loading:!1,dialog:!1,dialogDelete:!1,birthdateDialog:!1,modal:!1,headers:[{text:"Nombre completo",align:"start",value:"full_name"},{text:"Tipo de usuario",value:"user_type"},{text:"Correo electrónico",value:"email"},{text:"Acciones",value:"actions",align:"center",sortable:!1}],members:[],upcms:[],rols:["Cardiólogo","Enfermera","Enfermero","Secretaria"],user_types:["administrador","coordinador","miembro"],genders:[{name:"Masculino",gender:"M"},{name:"Femenino",gender:"F"}],password:"",password_confirm:"",editedIndex:-1,editedItem:{},defaultItem:{date:current_date,whatsapp:"0",telegram:"0",sms:"0"}},computed:{formTitle:function(){return-1===this.editedIndex?"Registrar Miembro":"Editar Miembro"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},mounted:function(){},methods:{initialize:function(){var e=api_url+"upcms/upcm-list";this.$http.get(e).then(e=>{this.upcms=e.body},e=>{});e=api_url+"members/get";this.$http.get(e).then(e=>{this.members=e.body},e=>{})},editItem:function(e){this.editedIndex=this.members.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.members.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this.editedItem.user_id,t=api_url+"members/delete";this.$http.post(t,{user_id:e}).then(e=>{"success"==e.body.status&&this.members.splice(this.editedIndex,1),this.closeDelete(),activateAlert(e.body.message,e.body.status)},e=>{this.closeDelete()})},closeDelete:function(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},close:function(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save:function(){var e,t=this,i=t.editedIndex,s=t.editedItem;-1<this.editedIndex?(e=api_url+"members/update",this.$http.post(e,s).then(e=>{"success"==e.body.status&&Object.assign(t.members[i],s),activateAlert(e.body.message,e.body.status)},e=>{})):(e=api_url+"members/create",this.$http.post(e,s).then(e=>{"success"==e.body.status&&(s.date=current_date),s.user_id=e.body.data.user_id,this.members.push(s),activateAlert(e.body.message,e.body.status)},e=>{})),this.close()}}});